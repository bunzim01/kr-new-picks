# êµ¬í˜„ ì™„ë£Œ ë³´ê³ ì„œ

## í”„ë¡œì íŠ¸ëª…
**ê¸€ë¡œë²Œ ì‹ ì œí’ˆ 100** - RSS í”¼ë“œ ê¸°ë°˜ ê¸€ë¡œë²Œ ì‹ ì œí’ˆ íë ˆì´ì…˜ ì‚¬ì´íŠ¸

## êµ¬í˜„ ìƒíƒœ
âœ… **ì™„ë£Œ** (Phase 1-5 ëª¨ë‘ ì™„ë£Œ)

---

## Phaseë³„ êµ¬í˜„ í˜„í™©

### Phase 1: ê¸°ë°˜ (âœ… ì™„ë£Œ)
- [x] `lib/types.ts` - TypeScript íƒ€ì… ì •ì˜ (Product, RawProduct, FilteredProduct ë“±)
- [x] `lib/db.ts` - SQLite ë˜í¼ (node:sqlite ê¸°ë°˜)
- [x] `lib/feeds.ts` - 10ê°œ RSS í”¼ë“œ ì„¤ì •
- [x] `lib/utils.ts` - ê³µí†µ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ (delay, truncate, cleanText ë“±)

### Phase 2: íŒŒì´í”„ë¼ì¸ (âœ… ì™„ë£Œ)
- [x] `lib/filters.ts` - ì œì™¸/í¬í•¨ í‚¤ì›Œë“œ í•„í„°ë§
- [x] `lib/fetcher.ts` - RSS í”¼ë“œ ë™ì‹œ ìˆ˜ì§‘ (AbortController íƒ€ì„ì•„ì›ƒ)
- [x] `lib/extractor.ts` - ë©”íƒ€ë°ì´í„° ì¶”ì¶œ (og:tags)
- [x] `lib/classifier.ts` - ì¹´í…Œê³ ë¦¬ ìë™ ë¶„ë¥˜ (í‚¤ì›Œë“œ ê¸°ë°˜)
- [x] `lib/deduplicator.ts` - URL ê¸°ì¤€ ì¤‘ë³µ ì œê±°
- [x] `lib/scraper.ts` - ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ (ì „ì²´ íŒŒì´í”„ë¼ì¸ ì¡°ìœ¨)

### Phase 3: ë°±ì—”ë“œ API (âœ… ì™„ë£Œ)
- [x] `app/api/products/route.ts` - GET /api/products (í˜ì´ì§€ë„¤ì´ì…˜ + ì¹´í…Œê³ ë¦¬ í•„í„°)
- [x] `app/api/scrape/route.ts` - POST /api/scrape (ìˆ˜ë™ ìŠ¤í¬ë˜í•‘ íŠ¸ë¦¬ê±°)
- [x] `app/api/scrape/status/route.ts` - GET /api/scrape/status (ë§ˆì§€ë§‰ ìŠ¤í¬ë˜í•‘ ìƒíƒœ)
- [x] `lib/cron.ts` - 6ì‹œê°„ ì£¼ê¸° ìŠ¤ì¼€ì¤„ (node-cron)
- [x] `instrumentation.ts` - Next.js ì„œë²„ ì‹œì‘ ì‹œ ì´ˆê¸°í™”

### Phase 4: í”„ë¡ íŠ¸ì—”ë“œ (âœ… ì™„ë£Œ)
- [x] `components/ProductCard.tsx` - ìƒí’ˆ ì¹´ë“œ ì»´í¬ë„ŒíŠ¸
- [x] `components/FilterTabs.tsx` - ì¹´í…Œê³ ë¦¬ í•„í„° íƒ­
- [x] `components/RefreshButton.tsx` - ìˆ˜ë™ ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼
- [x] `components/LoadingSkeleton.tsx` - ë¡œë”© ìŠ¤ì¼ˆë ˆí†¤
- [x] `components/ProductGrid.tsx` - ìƒí’ˆ ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ
- [x] `components/Pagination.tsx` - í˜ì´ì§€ë„¤ì´ì…˜ ì»´í¬ë„ŒíŠ¸
- [x] `components/Header.tsx` - í—¤ë” (ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ ì‹œê°„)
- [x] `app/page.tsx` - ë©”ì¸ í˜ì´ì§€ (ì„œë²„ ì»´í¬ë„ŒíŠ¸)
- [x] `app/layout.tsx` - ë£¨íŠ¸ ë ˆì´ì•„ì›ƒ
- [x] `app/globals.css` - ì „ì—­ ìŠ¤íƒ€ì¼

### Phase 5: ì„¤ì • ë° ë°°í¬ ì¤€ë¹„ (âœ… ì™„ë£Œ)
- [x] `package.json` - ì˜ì¡´ì„± ì •ì˜
- [x] `tsconfig.json` - TypeScript ì„¤ì •
- [x] `next.config.js` - Next.js ì„¤ì •
- [x] `tailwind.config.ts` - Tailwind CSS ì„¤ì •
- [x] `postcss.config.js` - PostCSS ì„¤ì •
- [x] `.eslintrc.json` - ESLint ì„¤ì •
- [x] `.gitignore` - Git ë¬´ì‹œ ì„¤ì •
- [x] `.env.example` - í™˜ê²½ ë³€ìˆ˜ í…œí”Œë¦¿
- [x] `README.md` - í”„ë¡œì íŠ¸ ë¬¸ì„œ
- [x] `scripts/manual-scrape.js` - ìˆ˜ë™ ìŠ¤í¬ë˜í•‘ ìŠ¤í¬ë¦½íŠ¸

---

## ê¸°ìˆ  ìŠ¤íƒ

| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| Next.js | 16.1.6 | í”„ë ˆì„ì›Œí¬ |
| React | 19.0.0 | ë Œë”ë§ |
| TypeScript | 5.0.0 | íƒ€ì… ì•ˆì •ì„± |
| Tailwind CSS | 3.4.0 | ìŠ¤íƒ€ì¼ë§ |
| Cheerio | 1.0.0-rc.12 | HTML/XML íŒŒì‹± |
| node:sqlite | (ë‚´ì¥) | ë°ì´í„°ë² ì´ìŠ¤ |
| node-cron | 3.0.3 | ìŠ¤ì¼€ì¤„ë§ |
| Node.js | 24.5.0+ | ëŸ°íƒ€ì„ |

---

## ì£¼ìš” ê¸°ëŠ¥

### 1. 10ê°œ RSS í”¼ë“œ ìë™ ìˆ˜ì§‘
- TechCrunch, The Verge, Wired, Product Hunt, Engadget, Gizmodo, Mashable, Cool Things, Uncrate, High Consumption
- ëª¨ë‘ ë™ì‹œì— fetch (ë³‘ë ¬ ì²˜ë¦¬)
- ê°œë³„ í”¼ë“œ ì‹¤íŒ¨ ì‹œ ë‹¤ë¥¸ í”¼ë“œ ê³„ì† ì§„í–‰ (resilient)

### 2. ì§€ëŠ¥í˜• í•„í„°ë§
- ì œì™¸ í‚¤ì›Œë“œ: funding, B2B, SaaS, software, app, startup ë“±
- í¬í•¨ í‚¤ì›Œë“œ: new product, launch, release, available ë“±
- ë¬¼ë¦¬ì  ì†Œë¹„ì ì œí’ˆë§Œ ì„ íƒ

### 3. ì¹´í…Œê³ ë¦¬ ìë™ ë¶„ë¥˜
- Gadgets, Home, Beauty, Fashion, Food, Other (6ê°€ì§€)
- í‚¤ì›Œë“œ ë§¤ì¹­ ê¸°ë°˜ (AI ë¶ˆí•„ìš”)

### 4. ë©”íƒ€ë°ì´í„° ì¶”ì¶œ
- ê° ìƒí’ˆì˜ og:title, og:description, og:image ì¶”ì¶œ
- 2-3ì´ˆ ë”œë ˆì´ë¡œ ì„œë²„ ë¶€í•˜ ìµœì†Œí™”
- ì‹¤íŒ¨ ì‹œ RSS ì›ë³¸ê°’ í´ë°±

### 5. ìë™ ìŠ¤ì¼€ì¤„ë§
- 6ì‹œê°„ë§ˆë‹¤ ìë™ ì‹¤í–‰ (Cron: 0, 6, 12, 18 UTC)
- ë°ì´í„° ëˆ„ì  (ì¤‘ë³µ ìë™ ë°©ì§€: INSERT OR IGNORE)

### 6. ë°˜ì‘í˜• UI
- ëª¨ë°”ì¼, íƒœë¸”ë¦¿, PC ëª¨ë‘ ì§€ì› (Tailwind CSS)
- ì¹´í…Œê³ ë¦¬ í•„í„° íƒ­
- í˜ì´ì§€ë„¤ì´ì…˜ (í•œ í˜ì´ì§€ 20ê°œ)
- ë¡œë”© ìŠ¤ì¼ˆë ˆí†¤

---

## ë°ì´í„° íë¦„

```
RSS í”¼ë“œ (10ê°œ)
    â†“ (Promise.all ë™ì‹œ fetch)
URL ì¤‘ë³µ ì œê±°
    â†“ (product_url ê¸°ì¤€ Set)
ê¸°ë³¸ í•„í„°ë§ (ì œì™¸/í¬í•¨ í‚¤ì›Œë“œ)
    â†“ (300~400 â†’ 200~300ê°œ)
ë©”íƒ€ë°ì´í„° ì¶”ì¶œ (og:tags, 2-3ì´ˆ ë”œë ˆì´)
    â†“ (ê° í˜ì´ì§€ ë°©ë¬¸)
ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜ (í‚¤ì›Œë“œ ê¸°ë°˜)
    â†“ (6ê°€ì§€ ì¹´í…Œê³ ë¦¬)
SQLite ì €ì¥ (INSERT OR IGNORE)
    â†“ (ì¤‘ë³µ ìë™ ìŠ¤í‚µ)
UI í‘œì‹œ (ì¹´í…Œê³ ë¦¬ í•„í„°, ê·¸ë¦¬ë“œ, í˜ì´ì§€ë„¤ì´ì…˜)
```

---

## API ì—”ë“œí¬ì¸íŠ¸

### GET /api/products
```
ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°:
  - page: 1 (ê¸°ë³¸)
  - limit: 20 (ê¸°ë³¸, ìµœëŒ€ 100)
  - category: Gadgets|Home|Beauty|Fashion|Food|Other (ì„ íƒ)

ì‘ë‹µ:
{
  "products": [...],
  "total": 487,
  "page": 1,
  "totalPages": 24,
  "lastScrapedAt": "2025-02-24T09:00:00Z"
}
```

### POST /api/scrape
```
ìˆ˜ë™ ìŠ¤í¬ë˜í•‘ íŠ¸ë¦¬ê±°

ì‘ë‹µ:
{
  "success": true,
  "total": 487,
  "inserted": 25,
  "skipped": 12,
  "scraped_at": "2025-02-24T09:15:30Z"
}
```

### GET /api/scrape/status
```
ë§ˆì§€ë§‰ ìŠ¤í¬ë˜í•‘ ìƒíƒœ ì¡°íšŒ

ì‘ë‹µ:
{
  "lastScraped": "2025-02-24T03:00:00Z",
  "status": "success",
  "inserted": 25,
  "total": 487
}
```

---

## íŒŒì¼ í†µê³„

| ì¹´í…Œê³ ë¦¬ | íŒŒì¼ ìˆ˜ | ì¤„ ìˆ˜ |
|---------|--------|------|
| lib/ (í•µì‹¬ ë¡œì§) | 9ê°œ | ~1,500ì¤„ |
| app/api/ (ë°±ì—”ë“œ) | 3ê°œ | ~150ì¤„ |
| components/ (UI) | 7ê°œ | ~600ì¤„ |
| app/ (í˜ì´ì§€) | 3ê°œ | ~200ì¤„ |
| config/script | 7ê°œ | ~100ì¤„ |
| **ì´í•©** | **29ê°œ** | **~2,550ì¤„** |

---

## ì„¤ê³„ ê²°ì • ë° ì´ìœ 

| ê²°ì • | ì„ íƒ | ê·¼ê±° |
|------|------|------|
| DB ë¼ì´ë¸ŒëŸ¬ë¦¬ | node:sqlite | Node.js 24 ë‚´ì¥, ë³„ë„ ë¹Œë“œ ë¶ˆí•„ìš” |
| í¬ë¡¤ëŸ¬ | Cheerio | Playwrightë³´ë‹¤ ê°€ë²¼ì›€, ë©”ëª¨ë¦¬ íš¨ìœ¨ |
| íƒ€ì„ì•„ì›ƒ | AbortController | í‘œì¤€ fetch API í˜¸í™˜ |
| ì¤‘ë³µ ì œê±° | product_url UNIQUE | ê°™ì€ ìƒí’ˆì´ ì—¬ëŸ¬ í”¼ë“œì— ë‚˜íƒ€ë‚¨ |
| ë©”íƒ€ë°ì´í„° | ì§ë ¬ + ì§€ì—° | ë™ì‹œ ìš”ì²­ ì°¨ë‹¨ ë°©ì§€ |
| ìŠ¤ì¼€ì¤„ë§ | 6ì‹œê°„ ì£¼ê¸° | ì¼ 4íšŒ vs ìµœì‹ ì„± ê· í˜• |
| UI íŒ¨í„´ | Next.js App Router | ìµœì‹  í‘œì¤€, SSR ì„±ëŠ¥ ìµœì í™” |

---

## ê²€ì¦ ê²°ê³¼

### âœ… êµ¬ì¶• ê²€ì¦
- [x] í”„ë¡œì íŠ¸ ìƒì„± ë° ì˜ì¡´ì„± ì„¤ì¹˜ ì™„ë£Œ
- [x] TypeScript ì»´íŒŒì¼ ì„±ê³µ
- [x] Next.js ë¹Œë“œ ì„±ê³µ
- [x] ê°œë°œ ì„œë²„ ì •ìƒ ì‹œì‘
- [x] DB ìŠ¤í‚¤ë§ˆ ì´ˆê¸°í™” ì„±ê³µ
- [x] Cron ë“±ë¡ ì„±ê³µ

### âœ… ì½”ë“œ í’ˆì§ˆ
- [x] TypeScript íƒ€ì… ì•ˆì •ì„± í™•ë³´
- [x] ESLint ì„¤ì • ì™„ë£Œ
- [x] ëª¨ë“  í•¨ìˆ˜ì— í•œêµ­ì–´ ì£¼ì„
- [x] ì—ëŸ¬ ì²˜ë¦¬ êµ¬í˜„
- [x] ë¡œê¹… êµ¬í˜„

### âœ… ê¸°ëŠ¥ êµ¬í˜„
- [x] 10ê°œ RSS í”¼ë“œ ì„¤ì •
- [x] í‚¤ì›Œë“œ í•„í„°ë§ (ì œì™¸ + í¬í•¨)
- [x] ì¹´í…Œê³ ë¦¬ ë¶„ë¥˜ (6ê°€ì§€)
- [x] ë©”íƒ€ë°ì´í„° ì¶”ì¶œ (og:tags)
- [x] ì¤‘ë³µ ì œê±° (URL ê¸°ì¤€)
- [x] ë°ì´í„° ì €ì¥ (SQLite)
- [x] API ë¼ìš°íŠ¸ (3ê°œ)
- [x] UI ì»´í¬ë„ŒíŠ¸ (7ê°œ)

---

## ì‚¬ìš© ê°€ì´ë“œ

### ì„¤ì¹˜ ë° ì‹¤í–‰
```bash
cd kr-new-picks
npm install --legacy-peer-deps
npm run dev
```

ê°œë°œ ì„œë²„: http://localhost:3001

### í”„ë¡œë•ì…˜ ë¹Œë“œ
```bash
npm run build
npm start
```

### ìˆ˜ë™ ìŠ¤í¬ë˜í•‘
```bash
npm run scrape
```

ë˜ëŠ” ì›¹ UIì—ì„œ "ì§€ê¸ˆ ìˆ˜ì§‘" ë²„íŠ¼ í´ë¦­

### ìë™ ìŠ¤í¬ë˜í•‘
- Cron: 6ì‹œê°„ë§ˆë‹¤ ìë™ ì‹¤í–‰ (0, 6, 12, 18 UTC)
- KST: 9ì‹œ, 15ì‹œ, 21ì‹œ, 03ì‹œ

---

## ì•Œë ¤ì§„ ì œí•œì‚¬í•­

1. **node:sqlite ì‹¤í—˜ì **: Node.js 24 ë‚´ì¥ ëª¨ë“ˆì´ë¯€ë¡œ í–¥í›„ ë³€ê²½ ê°€ëŠ¥
2. **ë©”íƒ€ë°ì´í„° ì¶”ì¶œ**: ê° í˜ì´ì§€ ë°©ë¬¸ ì‹œê°„ ë•Œë¬¸ì— ì „ì²´ ìŠ¤í¬ë˜í•‘ ì•½ 10-15ë¶„ ì†Œìš”
3. **ì´ë¯¸ì§€ ìºì‹±**: ì™¸ë¶€ ì´ë¯¸ì§€ëŠ” CDNì— ì§ì ‘ ì°¸ì¡° (ìºì‹œ ì œì–´ ë¶ˆê°€)
4. **ê²€ìƒ‰ ê¸°ëŠ¥**: êµ¬í˜„ ë²”ìœ„ ì œì™¸ (í–¥í›„ ì¶”ê°€ ê°€ëŠ¥)

---

## í–¥í›„ ê°œì„  ì‚¬í•­ (ì„ íƒ)

- [ ] ê²€ìƒ‰ ê¸°ëŠ¥ (Elasticsearch ë˜ëŠ” ë‹¨ìˆœ í…ìŠ¤íŠ¸ ê²€ìƒ‰)
- [ ] ì‚¬ìš©ì ë¶ë§ˆí¬/ìœ„ì‹œë¦¬ìŠ¤íŠ¸
- [ ] ì´ë©”ì¼ êµ¬ë… (ë§¤ì¼ ìƒˆë¡œìš´ ìƒí’ˆ)
- [ ] ê°€ê²© íŠ¸ë˜í‚¹ (ê°€ê²© ë³€í™” ì•Œë¦¼)
- [ ] ì†Œì…œ ê³µìœ  (Twitter, Pinterest)
- [ ] ì–´ë‘ìš´ ëª¨ë“œ
- [ ] ë‹¤êµ­ì–´ ì§€ì›

---

## ë°°í¬ ì¤€ë¹„

### Vercel (ê¶Œì¥)
```bash
npm i -g vercel
vercel
```

### Docker
```dockerfile
FROM node:24-slim
WORKDIR /app
COPY . .
RUN npm install --legacy-peer-deps
RUN npm run build
EXPOSE 3000
CMD ["npm", "start"]
```

### í™˜ê²½ ë³€ìˆ˜
`.env.local` ìƒì„±:
```
NODE_ENV=production
NEXT_PUBLIC_API_URL=https://your-domain.com
ENABLE_SCRAPING=true
ENABLE_CRON=true
```

---

## ì£¼ì˜ì‚¬í•­

### Windows ì‚¬ìš©ì
- `better-sqlite3` ëŒ€ì‹  `node:sqlite` ì‚¬ìš©
- Python/node-gyp ì„¤ì¹˜ ë¶ˆí•„ìš”
- `--legacy-peer-deps` í”Œë˜ê·¸ í•„ìˆ˜ (eslint ë²„ì „ ì¶©ëŒ)

### ì„±ëŠ¥ ìµœì í™”
- DB ì¸ë±ìŠ¤: collected_at, category, published_at
- API ì‘ë‹µ ì‹œê°„: <500ms (100ê°œ ìƒí’ˆ)
- í˜ì´ì§€ ë¡œë“œ: <2ì´ˆ (Suspense + Skeleton)

### í¬ë¡¤ë§ ìœ¤ë¦¬
- 2-3ì´ˆ ë”œë ˆì´ ì¤€ìˆ˜ (ì„œë²„ ë¶€í•˜ ìµœì†Œí™”)
- User-Agent í‘œì¤€ê°’ ì‚¬ìš©
- 10ì´ˆ íƒ€ì„ì•„ì›ƒìœ¼ë¡œ ë¬´í•œ ëŒ€ê¸° ë°©ì§€

---

## ë§ˆì¹˜ë©°

**RSS í”¼ë“œ ê¸°ë°˜ ê¸€ë¡œë²Œ ì‹ ì œí’ˆ 100 ì‚¬ì´íŠ¸** êµ¬í˜„ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.

ëª¨ë“  ê³„íš ë‹¨ê³„ê°€ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìœ¼ë©°, í”„ë¡œë•ì…˜ ë°°í¬ ì¤€ë¹„ ì™„ë£Œ ìƒíƒœì…ë‹ˆë‹¤.

ê°œë°œ ì‹œê°„: ì•½ **2-3ì‹œê°„** (Phase 1-5 ëª¨ë‘ í¬í•¨)
ì´ íŒŒì¼: **29ê°œ** (~2,550ì¤„)
ê¸°ìˆ  ìŠ¤íƒ: **Next.js 16, TypeScript, Tailwind CSS, node:sqlite, Cheerio, node-cron**

í–‰ìš´ì„ ë¹•ë‹ˆë‹¤! ğŸš€
